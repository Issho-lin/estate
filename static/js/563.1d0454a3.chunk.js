(window.webpackJsonp=window.webpackJsonp||[]).push([[563],{2811:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),i=n(6),u=n(9),c=n(11),l=n(67),s=n(65),d=n(66),m=(n(419),n(206)),h=n(4),b=n.n(h),p=n(53),R=n(1610),g=n(63),f=n(1624),v=n(97),y=n(28),C=m.a.Content,E=Object(v.a)((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(5),n.e(12)]).then(n.bind(null,1750))})),O=Object(v.a)((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(4),n.e(28)]).then(n.bind(null,2189))})),j=Object(v.a)((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(4),n.e(30)]).then(n.bind(null,2190))})),D=Object(v.a)((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(4),n.e(29)]).then(n.bind(null,2191))})),I=Object(g.b)("Root")(a=Object(g.c)(a=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(l.a)(this,Object(s.a)(t).call(this,e))).setHomeNav=function(){var e=n.props.Root,t=n.state.homeRoute;e.routerArr.length||(e.createNavTab({name:"\u9996\u9875",id:t.id,path:t.actionUrl||"/building"}),e.updateBreadCrumbs([t.id]))},n.queryChildResource=Object(i.a)(o.a.mark((function e(){var t,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.Root,e.prev=1,a=_.find(y.a.getItem("firstMenuList").firstMenuList.resourcesList,{resourceCode:"characteIndustry"}),r=_.find(a.children,{resourceCode:"building"}).resourceId,e.next=6,t.queryChildResource({param:{data:{resources:{upper:r}}}});case 6:n.setItemWithRoute(t.routerData),n.setState({myRouteData:t.routerData,homeRoute:(t.routerData||[])[0]||{}},(function(){n.setHomeNav()})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),n.getSubRouterChildren=function(e,t,a,r){n.props.Root.querySubChild({param:{data:{resources:{upper:e},resourceLevel:a}}},r).then((function(e){if(e){if(y.a.getItem("buildingRoute")){var a=y.a.getItem("buildingRoute").buildingRoute;n.props.Root.setRouterChild(e.currentRouter.id,a,e.childData),n.setItemWithRoute(a)}else n.setItemWithRoute(t);n.setState({myRouteData:y.a.getItem("buildingRoute").buildingRoute})}}))},n.setItemWithRoute=function(e){y.a.setItem("buildingRoute",JSON.stringify({buildingRoute:e}))},n.renderRoute=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e,t){return e.children?n.renderRoute(e.children):b.a.createElement(p.c,{exact:!0,key:t,path:e.actionUrl,component:f.d[e.actionUrl]})}))},n.buildingRoute=(y.a.getItem("buildingRoute")||{}).buildingRoute,n.state={myRouteData:n.buildingRoute,homeRoute:(n.buildingRoute||[])[0]||{}},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.myRouteData;e&&e.length?this.setHomeNav():this.queryChildResource()}},{key:"componentWillUnmount",value:function(){this.setState=function(){}}},{key:"render",value:function(){var e=this.props.Root,t=this.state,n=t.myRouteData,a=t.homeRoute;return b.a.createElement("div",null,b.a.createElement(m.a,null,b.a.createElement(R.a,{routerData:n||[],getChildren:this.getSubRouterChildren}),b.a.createElement(m.a,{style:{padding:"1.6rem .2rem .2rem",backgroundColor:e.bgColor,position:"relative"}},b.a.createElement(C,{style:{background:"#fff"}},b.a.createElement(p.e,null,this.renderRoute(n),b.a.createElement(p.c,{exact:!0,path:"/building/deviceMonitor",component:E}),b.a.createElement(p.c,{exact:!0,path:"/building/securityDevice/details",component:O}),b.a.createElement(p.c,{exact:!0,path:"/building/securityWarning/details",component:j}),b.a.createElement(p.c,{exact:!0,path:"/building/cameraManage/details",component:D}),a.actionUrl&&b.a.createElement(p.c,{exact:!0,path:"/building/",component:function(){return b.a.createElement(p.b,{to:a.actionUrl||"/building/deviceMonitor"})}}))))))}}]),t}(h.Component))||a)||a;t.default=I}}]);